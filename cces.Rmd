---
title: "Income and Ideology"
author: Nana Koranteng
date: "April 13, 2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(primer.data)
library(tidyverse)
library(rstanarm)

# Check out the raw cces tibble, especially the faminc (family income) and
# ideology variables.

x <- cces %>% 
  filter(year == 2019) %>% 
  select(state, gender, age, race, faminc, ideology) %>% 
  drop_na() %>% 
  
  # This is an absurd hack. Do not do this, ever. This only works because, if
  # you coerce factor variables into integers, the order of the factor levels is
  # preserved. So, low numbers for faminc/ideology correspond to poorer/liberal
  # individuals.
  
  # We need the variables, at least faminc, to be numeric so that we can create
  # a statistical model using the tools we have learned.
  
  mutate(faminc = as.integer(faminc)) %>% 
  mutate(ideology = as.integer(ideology))

  
```


*Describe the relationship between ideology and family income. How does it vary by gender? Does your conclusion change if we "adjust" for race and age?*


## Wisdom
- data from the US from 2006- 2019
- we have information for all of the variable we will be exploring

## Justice


```{r}

x %>% 
  ggplot(aes(x = faminc, y = ideology)) +
  geom_jitter(alpha = 0.05) + 
  geom_smooth(formula = y ~ x,
              method = "lm")


```



## Courage

```{r fitted_model}

fit_1 <- stan_glm( ideology ~ faminc,
                   data = x,
                   refresh = 0, 
                   seed = 334)
print(fit_1, digits = 3)
```

For every increase in family income the ideology decreases by .047, meaning that families that make more money become slightly more liberal

$ideology_{i} = \beta_0 + \beta_1 faminc_{i} + \epsilon_{i}$

$\beta_0$ = the intercept and is the median ideology (ideology at $0 income), which in this case is 3.471 (slightly left of the center)
$\beta_1 faminc_{i}$ = the amount that an increase in family income causes a .047 decrease in family income


## Temperance

